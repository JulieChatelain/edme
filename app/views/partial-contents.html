
<div class="row">
	<!-- ************************** Left List ***************************** -->
	<section class="col-md-3">
		<div class="left-list">
			<button type="button" class="btn btn-success" data-toggle="modal"
				data-target="#patientModal" ng-click="openModal()">
				<span class="glyphicon glyphicon-user"></span> Nouveau patient
			</button>
			<h4 class="well well-sm well-green">Mes patients</h4>
			<p>
				<input type="text" ng-model="patientsNameFilter"
					placeholder="Filtrer les noms..."> <label
					class="checkbox-inline"><input type="checkbox" value="F"
					ng-model="patientsGenderFilter.women" checked>F</label> <label
					class="checkbox-inline"><input type="checkbox" value="M"
					ng-model="patientsGenderFilter.men" checked>M</label>

			</p>
			<ul class="list-group">
				<a class="list-group-item"
					ng-repeat="p in patients | orderBy : 'name.family[0]' | patientFilter : patientsNameFilter | genderFilter : patientsGenderFilter"
					ng-click="selectPatient(p._id)"
					ng-style="{'background-color' : bgColor(p._id)}">

					{{p.name.family[0].toUpperCase()}} {{p.name.given[0]}}
					({{p.gender}}), {{age(p.birthDate)}} ans </a>
			</ul>
		</div>
	</section>

	<!-- *************************** Content ****************************** -->

	<section class="col-md-9" style="width: 75%; float: left;">
		<div class="alert alert-danger" ng-show="error!=''">
			<a href="#" class="close" aria-label="close" ng-click="closeError()">&times;</a>
			{{error}}
		</div>
		<div class="alert alert-success" ng-show="confirmation!=''">
			<a href="#" class="close" aria-label="close"
				ng-click="closeConfirmation()">&times;</a> {{confirmation}}
		</div>

		<!-- ******************* New Patient Modal ********************** -->

		<patient-form></patient-form>

		<!-- ********************** Patient data ********************** -->

		<h3 class="well well-sm well-green" ng-show="patient">
			<button type="button" class="btn btn-danger btn-sm btn-float-right"
				ng-show="patient" ng-click="deletePatient(patient._id)">
				<span class="glyphicon glyphicon-trash"></span> Supprimer ce dossier
				patient
			</button>
			{{patient.name.given[0]}} {{patient.name.family[0]}}
		</h3>

		<div class="panel panel-default" ng-show="patient">
			<div class="panel-heading">Informations</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-2">
						<b>Prénom :</b>
					</div>
					<div class="col-md-10">{{patient.name.given[0]}}</div>
				</div>
				<div class="row">
					<div class="col-md-2">
						<b>Nom :</b>
					</div>
					<div class="col-md-10">{{patient.name.family[0]}}</div>
				</div>
				<div class="row">
					<div class="col-md-2">
						<b>Âge :</b>
					</div>
					<div class="col-md-10">{{age(patient.birthDate)}} ans</div>
				</div>
				<div class="row">
					<div class="col-md-2">
						<b>Date de naissance :</b>
					</div>
					<div class="col-md-10">{{patient.birthDate| date :
						"dd-MM-yyyy"}}</div>
				</div>
				<div class="row">
					<div class="col-md-2">
						<b>Genre : </b>
					</div>
					<div class="col-md-10">{{patient.gender}}</div>
				</div>
			</div>
			<div class="panel-footer">
				<a class="btn btn-info btn-sm"> <span
					class="glyphicon glyphicon-pencil"></span> Modifier
				</a>
			</div>
		</div>


	</section>
</div>